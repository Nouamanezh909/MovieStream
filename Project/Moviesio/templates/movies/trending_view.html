{% extends "movies/base_view.html" %}
<!-- nav bar overtop carousel -->
{% block trending %}
<nav class="navbar navbar-expand-sm fixed-top navbar-light">
  <a class="navbar-brand abs ml-16">
    <button
      type="button"
      id="tv"
      class="btn btn-outline-light sw"
      name="switcher"
      value="tv_clicked"
      onclick="get_btn_clicked(this.id)"
    >
      TVShows
    </button>
    <button
      type="button"
      id="movie"
      class="btn btn-shadow-outline mr-32 sw"
      name="switcher"
      value="movie_clicked"
      onclick="get_btn_clicked(this.id)"
    >
      Movies
    </button>
  </a>

  <div class="navbar-collapse collapse" id="collapsingNavbar">
    <ul class="navbar-nav">
      <!-- Custom logo -->
      <li class="nav-item active">
        <a class="nav-link text-white" href="#">Link</a>
      </li>
      <li class="nav-item">
        <a class="nav-link text-white" href="//codeply.com">Codeply</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#myAlert" data-toggle="collapse">Link</a>
      </li>
    </ul>
    <ul class="navbar-nav ml-auto">
      <li class="nav-item">
        <a
          class="nav-link text-white"
          href=""
          data-target="#myModal"
          data-toggle="modal"
          >Contact</a
        >
      </li>
    </ul>
  </div>
</nav>

<!-- Building carousel page -->
<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
  <ol class="carousel-indicators">
    <li class="indicator" onclick="currentSlide(1)"></li>
    <li class="indicator" onclick="currentSlide(2)"></li>
    <li class="indicator" onclick="currentSlide(3)"></li>
  </ol>
  <div class="carousel-inner">
    <div class="carousel-item active">
      {% for slide in trends.results[0:3] %}
      <!-- js will loop through the top 3 trending data
          slides -->
      <!-- darkining img  -->
      <div id="switch_backdrop" class="overlay">
        <img
          id="slides"
          class="d-block w-100"
          src="https://image.tmdb.org/t/p/original{{ slide['backdrop_path'] }}"
          alt="Trending Movies"
        />
      </div>

      <!-- carousel captions  -->

      <div class="container-fluid carousel-caption">
        <!-- left content  -->
        <div id="leftitems" class="row">
          <div class="contentleft">
            <div class="apidate">
              <mute> date : {{ slide ['release_date'] }}</mute>
            </div>

            <div id="wrapper" class="ab apititle mb-2">
              <h2 class="mb-4">
                {{ slide['title'] }}
              </h2>
              <div id="" class="apidescription">
                <p>
                  {{ slide['overview'] }}
                </p>
              </div>
            </div>
          </div>

          <!-- Play vid on  top of carousel -->
          <div class="apitrailer">
            <button class="btn"><i class="fa fa-play"></i> Play Trailer</button>
          </div>
        </div>

        <!-- right content  -->
        <div id="rightitems" class="row">
          <div class="contentright">
            <div class="rate">
              <p>{{ slide['vote_average'] }}</p>
              <!-- TODO: need to display corresponding stars -->
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
            </div>

            <!-- detail page info -->
            <div class="apiinfo">
              <i class="fa fa-info-circle"></i>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>

  <!-- TODO:delete later  -->
  <!-- <a id="move" class="carousel-control-prev" data-slide="prev"> </a>
      <a id="move" class="carousel-control-next" data-slide="next"> </a> -->

  <!-- call next scroll page -->
</div>
{% include "movies/popular_view.html" %} {% endblock trending %}
